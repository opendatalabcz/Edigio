<h3 mat-dialog-title>Listed item edit</h3>
<div mat-dialog-content>
  <form [formGroup]="form">
    <div class="mat-form-field-row">
      <mat-form-field>
        <mat-label>{{'LISTED_ITEM_EDIT_DIALOG.SEARCH_FOR_RESOURCE.LABEL' | translate}}</mat-label>
        <mat-select [formControl]="resourceControl" placeholder="Resource">
          <!-- place ngx-mat-select-search inside mat-option to allow opening without initial selection -->
          <mat-option>
            <ngx-mat-select-search
              [formControl]="resourceFilterControl"
              [searching]="searchingForResources"
              [placeholderLabel]="'LISTED_ITEM_EDIT_DIALOG.SEARCH_FOR_RESOURCE.PLACEHOLDER' | translate">
              <span ngxMatSelectSearchClear>
                <mat-icon>clear</mat-icon>
              </span>
            </ngx-mat-select-search>
          </mat-option>
          <!--
            Library doesn't allow us to select value that is not listed in options list.
            It seems to me that the best option to approach this problem is to add option
            that's not being displayed.
            Display style is set because i don't want selected option to be listed twice when it fits new search filter.
          -->
          <mat-option [value]="resourceControl.value" style="display: none">
            {{resourceControl.value?.name | multilingualTextToCurrentLanguage | async}}
          </mat-option>
          <mat-option *ngFor="let resource of filteredResources | async" [value]="resource">
            {{resource.name | multilingualTextToCurrentLanguage | async}}
          </mat-option>
          <div *ngIf="resourceNotFound" class="mat-select-search-no-entries-found padding-lr-20 padding-top-20 padding-bottom-10">
            {{'LISTED_ITEM_EDIT_DIALOG.SEARCH_FOR_RESOURCE.NO_ENTRIES_FOUND' | translate}}
          </div>
        </mat-select>
        <mat-hint> {{'LISTED_ITEM_EDIT_DIALOG.SEARCH_FOR_RESOURCE.HINT' | translate}} </mat-hint>
      </mat-form-field>
    </div>
    <div class="mat-form-field-row">
      <app-multilingual-textarea formControlName="description"
                                 [languageSelectionEnabled]="true"
                                 [defaultLanguage]="data.defaultLanguage.code"
                                 [languages]="availableLanguagesCodes">
      </app-multilingual-textarea>
<!--      <mat-form-field appearance="outline"  class="margin-top-15">-->
<!--        <textarea matInput-->
<!--                  formControlName="description"-->
<!--                  [placeholder]="getTranslationKey('DESCRIPTION.LABEL') | translate">-->
<!--        </textarea>-->
<!--        <mat-label>{{"LISTED_ITEM_EDIT_DIALOG.REQUESTED_ITEM.DESCRIPTION.LABEL" | translate}}</mat-label>-->
<!--        <mat-hint>{{"LISTED_ITEM_EDIT_DIALOG.REQUESTED_ITEM.DESCRIPTION.HINT" | translate}}</mat-hint>-->
<!--      </mat-form-field>-->
    </div>
    <div class="mat-form-field-row">
      <mat-form-field appearance="outline"  class="margin-top-15">
        <input matInput type="number" min="1" formControlName="amount">
        <mat-label>{{"LISTED_ITEMS_TABLE.AMOUNT" | translate}}</mat-label>
      </mat-form-field>
    </div>
  </form>
</div>
<mat-dialog-actions class="flex-column flex-md-row-reverse">
  <div class="col-12 col-md-6 margin-bottom-md-0 margin-bottom-5">
    <button mat-raised-button
            color="primary"
            class="full-width"
            (click)="submit(form)">{{"SAVE_BUTTON_TEXT" | translate}}</button>
  </div>
  <div class="col-12 col-md-6">
    <button mat-raised-button
            color="warn"
            class="full-width"
            (click)="close()">{{"CLOSE_BUTTON_TEXT" | translate}}</button>
  </div>
</mat-dialog-actions>
